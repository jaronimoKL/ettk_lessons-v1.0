{% extends 'base.html' %}
{% block title %} Расписание {% endblock title %}

{% block content %}
    <div class="row">
        <div class="col text-center">
            <form class="form-row" action="{% url 'lesson_filter' %}" method="get">
                {#                Поле выбора Препода или группы#}
                <select class="js-selectize" name="search" placeholder="Выберите город">
                    <option value=""></option>
                    <optgroup label="Преподаватели">
                        {% for teach in teacher_name %}
                            <option value="{{ teach.last_name }}">{{ teach.last_name }}</option>
                        {% endfor %}
                    </optgroup>
                    <optgroup label="Группы">
                        {% for group in group_name %}
                            <option value="{{ group.group_name }}">{{ group.group_name }}</option>
                        {% endfor %}
                    </optgroup>
                    <optgroup label="Кабинет">
                        {% for cabinet in cabinet_name %}
                            <option value="{{ cabinet.cabinet_name }}">{{ cabinet.cabinet_name }}</option>
                        {% endfor %}
                    </optgroup>
                </select>
                <button type="submit">Поисk</button>
                {#                <div class="input-group">#}
                {#                    <div id="search-autocomplete" class="form-outline">#}
                {#                        <input name="search" type="text" id="form1" class="form-control"/>#}
                {#                        <label class="form-label" for="form1">Поиск</label>#}
                {#                    </div>#}
                {#                    <button type="submit" class="btn btn-primary">#}
                {#                        <i class="fas fa-search"></i>#}
                {#                    </button>#}
                {#                </div>#}

                {#            Суперпользователи#}
                {#                {% if request.user.is_superuser %}#}
                {#                    <div class="form-group mx-sm-3 mb-2">#}
                {#                        <input type="search" class="form-control" name="date_start" placeholder="Дата начала">#}
                {#                    </div>#}
                {#                    <div class="form-group mx-sm-3 mb-2">#}
                {#                        <input type="date" class="form-control" name="date_end" placeholder="Дата конца">#}
                {#                    </div>#}
                {#                {% endif %}#}
            </form>
            <button type="button" class="themetoggle btn btn-them btn-floating">
                <span class="material-icons">light_mode</span>
            </button>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Номер пары</th>
                    <th scope="col">Дата пары</th>
                    <th scope="col">Группа</th>
                    <th scope="col">Преподаватель</th>
                    <th scope="col">Кабинет</th>
                </tr>
                </thead>
                <tbody>
                {% for table in timetable_list %}
                    <tr>
                        <td>{{ table.number }}</td>
                        <td>{{ table.date }}</td>
                        <td>{{ table.group.group_name }}</td>
                        <td>{{ table.teacher.last_name }}</td>
                        <td>{{ table.cabinet.cabinet_name }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock content %}